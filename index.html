<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="google-site-verification"
      content="uAOrkTw7yomp4TB8YWniAkkoPqyVoFwJcx0OA1H5z9s"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Build your Haikyu team in seconds. Drag characters, combine bonds, and share your lineup. Free, no sign-up."
    />
    <meta
      name="keywords"
      content="haikyu fly high team builder, haikyu fly high team, haikyu volleyball team creator, haikyu team planner, haikyu fly high characters, haikyu team composition, karasuno team builder, nekoma team builder, shiratorizawa team builder, haikyu bonds calculator, volleyball team simulator, haikyu game team, anime volleyball team, haikyu interactive tool, haikyu team optimizer, flight high team maker, haikyu squad builder, volleyball anime team, equipo haikyu, constructor equipos haikyu, haikyu formador equipos"
    />
    <meta name="author" content="Angelo" />
    <meta name="generator" content="Haikyu Fly High Team Builder v3.0" />
    <meta
      name="methodology"
      content="Experimental test case for vibe coding methodology research - not established best practice"
    />
    <meta name="application-name" content="Haikyu Fly High Team Builder" />
    <meta name="msapplication-TileColor" content="#667eea" />
    <meta name="msapplication-config" content="browserconfig.xml" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Additional SEO Tags -->
    <meta
      name="subject"
      content="Haikyu Fly High Team Builder - Interactive Volleyball Team Creator"
    />
    <meta name="copyright" content="¬© 2025 Haikyu Fly High Team Builder" />
    <meta name="language" content="English" />
    <meta name="revised" content="August 16, 2025" />
    <meta
      name="abstract"
      content="Create perfect volleyball teams using Haikyu Fly High characters with our interactive team builder featuring character bonds and school synergies."
    />
    <meta name="topic" content="Haikyu volleyball team building game" />
    <meta
      name="summary"
      content="Tool to build optimal Haikyu Fly High volleyball teams with character interaction system."
    />
    <meta
      name="classification"
      content="Sports Game, Anime Tool, Team Builder"
    />
    <meta name="designer" content="Angelo" />
    <meta name="reply-to" content="contact@haikyu-team-builder.com" />
    <meta name="owner" content="Angelo" />
    <meta name="url" content="https://shaedmg.github.io/haikyu-team-builder/" />
    <meta
      name="identifier-URL"
      content="https://shaedmg.github.io/haikyu-team-builder/"
    />
    <meta name="directory" content="submission" />
    <meta
      name="category"
      content="Sports, Anime, Games, Volleyball, Team Building"
    />
    <meta name="coverage" content="Worldwide" />
    <meta name="distribution" content="Global" />
    <meta name="rating" content="General" />
    <meta name="revisit-after" content="7 days" />
    <!-- Removed non-influential legacy meta tags (abstract, topic, summary, classification, rating, revisit-after, etc.) to reduce noise -->
    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />
    <meta name="theme-color" content="#667eea" />

    <!-- Security Headers -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self';"
    />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta
      http-equiv="Referrer-Policy"
      content="strict-origin-when-cross-origin"
    />
    <!-- Security headers like CSP/referrer should be set at server level; meta CSP removed to avoid blocking external fonts -->

    <!-- Canonical URL -->
    <link
      rel="canonical"
      href="https://shaedmg.github.io/haikyu-team-builder/"
    />

    <meta
      property="og:image"
      content="https://shaedmg.github.io/haikyu-team-builder/assets/images/og-preview.png"
    />
    <meta
      property="og:image:alt"
      content="Haikyu Team Builder - Interactive volleyball team creator"
    />
    <meta
      property="og:title"
      content="Haikyu Fly High Team Builder - Create Perfect Volleyball Teams"
    />
    <meta
      property="og:description"
      content="üèê Build your ultimate Haikyu Fly High volleyball team! Interactive team creator with character bonds, school synergies and statistics. Tool for Haikyu fans."
    />
    <meta property="og:site_name" content="Haikyu Fly High Team Builder" />
    <meta
      property="og:url"
      content="https://haikyu-team-builder.netlify.app/"
    />
    <meta
      property="og:url"
      content="https://shaedmg.github.io/haikyu-team-builder/"
    />
    <meta property="og:image:type" content="image/svg+xml" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta
      property="og:image:alt"
      content="Haikyu Fly High Team Builder - Interactive volleyball team creator"
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:locale:alternate" content="es_ES" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:title"
      content="Haikyu Fly High Team Builder - Create Perfect Volleyball Teams"
    />
    <meta
      property="twitter:description"
      content="üèê Build your ultimate Haikyu Fly High volleyball team! Interactive team creator with character bonds, school synergies and statistics."
    />
    <meta
      property="twitter:image"
      content="https://shaedmg.github.io/haikyu-team-builder/assets/images/og-preview.png"
    />
    <meta
      name="twitter:image:alt"
      content="Haikyu Fly High Team Builder interface"
    />
    <meta property="twitter:site" content="@HaikyuTeamBuilder" />
    <meta property="twitter:creator" content="@HaikyuTeamBuilder" />

    <title>Haikyu Team Builder ‚Äî Create your team (ES/EN)</title>

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Haikyu Fly High Team Builder",
        "alternateName": [
          "Haikyu Fly High Team Builder",
          "Haikyu Team Creator",
          "Haikyu Volleyball Team Planner"
        ],
        "description": "Interactive team builder for Haikyu Fly High volleyball game. Create perfect teams with character bonds, school synergies and strategic compositions. Features all major schools: Karasuno, Nekoma, Shiratorizawa, Fukurodani, Inarizaki and more.",
        "url": "https://shaedmg.github.io/haikyu-team-builder/",
        "applicationCategory": "GameApplication",
        "applicationSubCategory": "Sports Strategy Game",
        "operatingSystem": "Any",
        "browserRequirements": "Requires JavaScript enabled",
        "genre": ["Sports", "Strategy", "Anime", "Team Building"],
        "keywords": "haikyu fly high team builder, volleyball team creator, anime sports game, character bonds calculator",
        "inLanguage": ["en-US", "es-ES"],
        "isAccessibleForFree": true,
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD",
          "availability": "https://schema.org/InStock"
        },
        "featureList": [
          "Interactive drag-and-drop team builder",
          "Character bond system",
          "School synergy calculator",
          "Multiple volleyball positions",
          "Real-time team statistics",
          "Free to use, no registration required"
        ],
        "audience": {
          "@type": "Audience",
          "audienceType": "Haikyu fans, volleyball enthusiasts, anime gamers"
        },
        "author": {
          "@type": "Person",
          "name": "Angelo"
        },
        "datePublished": "2025-01-15",
        "dateModified": "2025-08-16"
      }
    </script>

    <!-- FAQ Schema for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "What is Haikyu Fly High Team Builder?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Haikyu Fly High Team Builder is a web tool that allows you to create perfect volleyball teams using characters from the Haikyu anime series. Build strategic team compositions with character bonds and school synergies."
            }
          },
          {
            "@type": "Question",
            "name": "How do character bonds work in the team builder?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Character bonds are special synergies between specific Haikyu characters that provide team bonuses. When you place characters with bonds on the same team, you unlock powerful effects that enhance your team's performance."
            }
          },
          {
            "@type": "Question",
            "name": "Which Haikyu schools are available in the team builder?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The team builder includes characters from all major Haikyu schools including Karasuno, Nekoma, Shiratorizawa, Fukurodani, Inarizaki, Date Tech, and many more, featuring over 100 characters total."
            }
          },
          {
            "@type": "Question",
            "name": "Is the Haikyu Fly High Team Builder free to use?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes! The Haikyu Fly High Team Builder is completely free to use. No registration, downloads, or payments required. Simply visit the website and start building your dream volleyball team."
            }
          }
        ]
      }
    </script>

    <!-- Removed external Google Fonts to satisfy CSP / best practices; using system font stack -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- SEO Content Header oculto para usuarios, visible para Google -->
    <section
      id="seo-content"
      style="
        position: absolute;
        left: -9999px;
        top: -9999px;
        width: 1px;
        height: 1px;
        overflow: hidden;
      "
      aria-hidden="true"
    >
      <p>
        With Haikyu Fly High Team Builder, you can create your perfect
        volleyball team combining school bonds, characters and optimizing your
        lineup for maximum synergy.
      </p>
      <h3>How does it work?</h3>
      <ol>
        <li>
          Choose your favorite Haikyu characters and drag them to each position.
        </li>
        <li>Activate school bonds and special synergies for bonus stats.</li>
        <li>Share your lineup with friends or save it for later.</li>
      </ol>
      <h3>Features</h3>
      <ul>
        <li>Interactive drag-and-drop team builder</li>
        <li>Character bond system for team synergies</li>
        <li>Real-time team statistics and school composition analysis</li>
        <li>
          Support for all volleyball positions: Setter, Libero, Middle Blocker,
          Wing Spiker, Opposite
        </li>
        <li>Over 100 characters from popular Haikyu schools</li>
        <li>Free to use with no registration required</li>
      </ul>
    </section>

    <div class="container">
      <header class="header" role="banner">
        <h1>üèê Haikyu Fly High Team Builder</h1>
        <p class="header-subtitle">
          Create Perfect Volleyball Teams with Character Bonds & School
          Synergies
        </p>
      </header>

      <main class="game-area" role="main">
        <!-- Bonds Drawer Button (mobile/tablet) -->

        <!-- School composition panel (desktop) / Drawer (mobile) -->
        <section
          class="school-panel bonds-panel-responsive"
          aria-labelledby="school-heading"
        >
          <h2 id="school-heading">V√≠nculo por Escuela</h2>
          <div class="school-stats" id="schoolStats" aria-live="polite">
            <!-- School counts will be dynamically populated here -->
          </div>

          <h2>V√≠nculos</h2>
          <div class="bonds-section" id="bondsSection" aria-live="polite">
            <!-- Bonds will be dynamically populated here -->
          </div>
        </section>

        <!-- Drawer for bonds panel (mobile/tablet) -->
        <div id="bondsDrawer" class="bonds-drawer" aria-hidden="true">
          <div class="bonds-drawer-content">
            <button
              id="closeBondsDrawer"
              class="close-bonds-drawer"
              aria-label="Cerrar v√≠nculos"
            >
              √ó
            </button>
            <section
              class="school-panel bonds-panel-drawer"
              aria-labelledby="drawer-school-heading"
            >
              <h2 id="drawer-school-heading" class="drawer-header-i18n">
                V√≠nculo por Escuela
              </h2>
              <div
                class="school-stats"
                id="drawerSchoolStats"
                aria-live="polite"
              ></div>
              <h2 id="drawer-bonds-heading" class="drawer-header-i18n">
                V√≠nculos
              </h2>
              <script>
                // ...existing code...

                // Traducci√≥n din√°mica de los headers del drawer
                function updateDrawerHeadersI18n() {
                  const lang =
                    window.languageManager &&
                    typeof window.languageManager.getCurrentLanguage ===
                      'function'
                      ? window.languageManager.getCurrentLanguage()
                      : 'es';
                  const schoolHeader = document.getElementById(
                    'drawer-school-heading'
                  );
                  const bondsHeader = document.getElementById(
                    'drawer-bonds-heading'
                  );
                  if (schoolHeader)
                    schoolHeader.textContent =
                      lang === 'en' ? 'School Bond' : 'V√≠nculo por Escuela';
                  if (bondsHeader)
                    bondsHeader.textContent =
                      lang === 'en' ? 'Bonds' : 'V√≠nculos';
                }
                document.addEventListener(
                  'DOMContentLoaded',
                  updateDrawerHeadersI18n
                );
                if (
                  window.languageManager &&
                  typeof window.languageManager.on === 'function'
                ) {
                  window.languageManager.on(
                    'languageChanged',
                    updateDrawerHeadersI18n
                  );
                }
              </script>
              <div
                class="bonds-section"
                id="drawerBondsSection"
                aria-live="polite"
              ></div>
            </section>
          </div>
          <div class="bonds-drawer-backdrop"></div>
        </div>

        <!-- Court container -->
        <div class="court-container">
          <div class="court">
            <!-- Net in the middle -->
            <div class="net"></div>

            <!-- Player positions -->
            <!-- Back row -->
            <div
              class="position position-1"
              data-position="OP1"
              data-name="Opposite"
            >
              <div class="player-slot">
                <div class="player-card empty">
                  <span class="position-label">OP</span>
                  <span class="position-number">4</span>
                </div>
              </div>
            </div>

            <div
              class="position position-6"
              data-position="MB1"
              data-name="Middle Blocker"
            >
              <div class="player-slot">
                <div class="player-card empty">
                  <span class="position-label">MB</span>
                  <span class="position-number">6</span>
                </div>
              </div>
            </div>

            <div
              class="position position-5"
              data-position="WS2"
              data-name="Wing Spiker"
            >
              <div class="player-slot">
                <div class="player-card empty">
                  <span class="position-label">WS</span>
                  <span class="position-number">2</span>
                </div>
              </div>
            </div>

            <!-- Front row -->
            <div
              class="position position-4"
              data-position="WS2"
              data-name="Wing Spiker"
            >
              <div class="player-slot">
                <div class="player-card empty">
                  <span class="position-label">WS</span>
                  <span class="position-number">1</span>
                </div>
              </div>
            </div>

            <div
              class="position position-3"
              data-position="MB2"
              data-name="Middle Blocker"
            >
              <div class="player-slot">
                <div class="player-card empty">
                  <span class="position-label">MB</span>
                  <span class="position-number">3</span>
                </div>
              </div>
            </div>

            <div
              class="position position-2"
              data-position="S"
              data-name="Setter"
            >
              <div class="player-slot">
                <div class="player-card empty">
                  <span class="position-label">S</span>
                  <span class="position-number">5</span>
                </div>
              </div>
            </div>

            <!-- Libero position -->
            <div
              class="position position-libero"
              data-position="L"
              data-name="Libero"
            >
              <div class="player-slot">
                <div class="player-card empty libero">
                  <span class="position-label">L</span>
                  <span class="position-number">7</span>
                </div>
              </div>
            </div>
            <!-- Rotation button -->
            <div
              class="rotation-button"
              id="rotationButton"
              title="Rotar jugadores en sentido horario"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1 4v6h6"
                  stroke="currentColor"
                  stroke-width="2"
                  fill="none"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"
                  stroke="currentColor"
                  stroke-width="2"
                  fill="none"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <polygon points="14,8 18,12 14,16" fill="currentColor" />
              </svg>
            </div>
            <div class="serving-indicator">üèê</div>
          </div>
        </div>

        <!-- Player selection panel -->
        <section class="player-panel" aria-labelledby="players-heading">
          <div class="players-header-row">
            <h2 id="players-heading">Seleccionar Jugadores</h2>
            <div class="school-filter-container">
              <button
                id="schoolFilterButton"
                class="school-filter-btn"
                type="button"
                aria-haspopup="listbox"
                aria-expanded="false"
                aria-label="Filtrar por escuela"
              >
                <svg
                  class="school-filter-icon"
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  aria-hidden="true"
                >
                  <line x1="22" y1="6" x2="2" y2="6" />
                  <line x1="18" y1="12" x2="6" y2="12" />
                  <line x1="14" y1="18" x2="10" y2="18" />
                </svg>
                <span class="school-filter-badge" style="display: none"></span>
              </button>
              <div
                id="schoolFilterDropdown"
                class="school-filter-dropdown"
                tabindex="-1"
                role="listbox"
                aria-multiselectable="true"
                style="display: none"
              >
                <div class="school-filter-dropdown-header">
                  <span
                    class="school-filter-dropdown-title"
                    id="schoolFilterTitle"
                  ></span>
                  <span
                    id="schoolFilterReset"
                    class="school-filter-reset"
                    tabindex="0"
                    role="button"
                    aria-label="Reset filters"
                  >
                    <span id="schoolFilterResetText"></span>
                  </span>
                </div>
                <ul class="school-filter-list">
                  <!-- Opciones de escuelas se insertar√°n din√°micamente -->
                </ul>
              </div>
            </div>
          </div>

          <!-- Search controls -->
          <div class="search-controls">
            <input
              type="text"
              id="searchInput"
              class="search-input"
              placeholder="Buscar personajes..."
              aria-label="Buscar personajes por nombre"
              style="
                width: 100%;
                padding: 10px 15px !important;
                border: 2px solid rgba(255, 255, 255, 0.3) !important;
                border-radius: 25px !important;
                background: rgba(255, 255, 255, 0.1) !important;
                color: white !important;
                font-size: 14px !important;
                transition: all 0.3s ease !important;
                backdrop-filter: blur(10px) !important;
                box-sizing: border-box !important;
                font-family: inherit !important;
              "
            />
          </div>

          <!-- Sorting controls -->
          <div class="sorting-controls">
            <label for="sortBy" class="sort-label" id="sortLabel"
              >Ordenar por:</label
            >
            <select id="sortBy" class="sort-dropdown">
              <option value="name">Nombre</option>
              <option value="rarity" selected>Rareza</option>
            </select>
          </div>

          <div
            class="player-grid"
            id="playerGrid"
            role="grid"
            aria-label="Available players grid"
          >
            <!-- Players will be dynamically loaded here -->
          </div>
        </section>
      </main>

      <!-- Position selector - appears at bottom when position is clicked -->
      <div
        class="position-selector"
        id="positionSelector"
        aria-hidden="true"
        role="dialog"
        aria-modal="false"
        aria-labelledby="positionSelectorTitle"
      >
        <div class="position-selector-header">
          <h3 id="positionSelectorTitle">Seleccionar jugador para posici√≥n</h3>
          <button
            class="position-selector-close"
            id="positionSelectorClose"
            aria-label="Cerrar selector de posici√≥n"
            type="button"
          >
            √ó
          </button>
        </div>
        <div class="position-selector-content">
          <div
            class="position-players-list"
            id="positionPlayersList"
            role="list"
          >
            <!-- Compatible players will be loaded here -->
          </div>
        </div>
      </div>

      <!-- Player info modal -->
    </div>

    <!-- TypeScript compiled modules -->

    <script type="module" src="dist/init.js"></script>
    <script>
      // Responsive bonds panel/drawer logic
      function updateBondsPanelDisplay() {
        const width = window.innerWidth;
        const panel = document.querySelector('.bonds-panel-responsive');
        const btn = document.getElementById('bondsDrawerBtn');
        if (width > 1439) {
          panel.style.display = '';
          btn.style.display = 'none';
        } else {
          panel.style.display = 'none';
          btn.style.display = '';
        }
      }
      window.addEventListener('resize', updateBondsPanelDisplay);
      window.addEventListener('DOMContentLoaded', updateBondsPanelDisplay);

      // Drawer open/close logic
      document.addEventListener('DOMContentLoaded', function () {
        const btn = document.getElementById('bondsDrawerBtn');
        const drawer = document.getElementById('bondsDrawer');
        const closeBtn = document.getElementById('closeBondsDrawer');
        const backdrop = drawer.querySelector('.bonds-drawer-backdrop');
        btn.addEventListener('click', () => {
          drawer.setAttribute('aria-hidden', 'false');
          drawer.classList.add('open');
        });
        function closeDrawer() {
          drawer.setAttribute('aria-hidden', 'true');
          drawer.classList.remove('open');
        }
        closeBtn.addEventListener('click', closeDrawer);
        backdrop.addEventListener('click', closeDrawer);
      });

      // Delegated event for bond level selectors (drawer y panel principal):
      document.addEventListener(
        'click',
        function (e) {
          const target = e.target;
          if (
            target &&
            target.classList &&
            target.classList.contains('level-btn')
          ) {
            const bondId = target.getAttribute('data-rich-bond-id');
            const level = target.getAttribute('data-level');
            console.log('[LvBtn Click]', {
              bondId,
              level,
              hasTeamBuilder: !!window.teamBuilder,
              hasSetRich:
                window.teamBuilder &&
                typeof window.teamBuilder.setRichBondLevel === 'function',
              target,
            });
            if (
              bondId &&
              level &&
              window.teamBuilder &&
              typeof window.teamBuilder.setRichBondLevel === 'function'
            ) {
              e.preventDefault();
              e.stopPropagation();
              console.log('[LvBtn] Calling setRichBondLevel', bondId, level);
              window.teamBuilder.setRichBondLevel(
                Number(bondId),
                Number(level)
              );
              return false;
            }
          }
        },
        true
      );

      // Cambia el texto del bot√≥n de v√≠nculos seg√∫n idioma
      function updateBondsButtonText() {
        const btn = document.getElementById('bondsDrawerBtn');
        if (!btn) return;
        let lang = 'es';
        if (
          window.languageManager &&
          typeof window.languageManager.getCurrentLanguage === 'function'
        ) {
          lang = window.languageManager.getCurrentLanguage();
        }
        btn.textContent = lang === 'en' ? 'Bonds' : 'V√≠nculos';
        btn.setAttribute(
          'aria-label',
          lang === 'en' ? 'Show bonds' : 'Mostrar v√≠nculos'
        );
      }
      document.addEventListener('DOMContentLoaded', updateBondsButtonText);
      if (
        window.languageManager &&
        typeof window.languageManager.on === 'function'
      ) {
        window.languageManager.on('languageChanged', updateBondsButtonText);
      }
    </script>
    <script>
      // Responsive bonds panel/drawer logic
      function updateBondsPanelDisplay() {
        const width = window.innerWidth;
        const panel = document.querySelector('.bonds-panel-responsive');
        const btn = document.getElementById('bondsDrawerBtn');
        if (width > 1439) {
          panel.style.display = '';
          btn.style.display = 'none';
        } else {
          panel.style.display = 'none';
          btn.style.display = '';
        }
      }
      window.addEventListener('resize', updateBondsPanelDisplay);
      window.addEventListener('DOMContentLoaded', updateBondsPanelDisplay);

      // Drawer open/close logic
      document.addEventListener('DOMContentLoaded', function () {
        const btn = document.getElementById('bondsDrawerBtn');
        const drawer = document.getElementById('bondsDrawer');
        const closeBtn = document.getElementById('closeBondsDrawer');
        const backdrop = drawer.querySelector('.bonds-drawer-backdrop');
        btn.addEventListener('click', () => {
          drawer.setAttribute('aria-hidden', 'false');
          drawer.classList.add('open');
        });
        function closeDrawer() {
          drawer.setAttribute('aria-hidden', 'true');
          drawer.classList.remove('open');
        }
        closeBtn.addEventListener('click', closeDrawer);
        backdrop.addEventListener('click', closeDrawer);
      });

      // Copy bonds panel content to drawer on open
      document.addEventListener('DOMContentLoaded', function () {
        const btn = document.getElementById('bondsDrawerBtn');
        const drawerSchoolStats = document.getElementById('drawerSchoolStats');
        const drawerBondsSection =
          document.getElementById('drawerBondsSection');
        btn.addEventListener('click', () => {
          // Copy school stats
          const origStats = document.getElementById('schoolStats');
          drawerSchoolStats.innerHTML = origStats ? origStats.innerHTML : '';
          // Copy bonds section
          const origBonds = document.getElementById('bondsSection');
          drawerBondsSection.innerHTML = origBonds ? origBonds.innerHTML : '';
        });
      });
    </script>

    <!-- Debug script to verify loading -->
    <script>
      console.log('HTML loaded, waiting for modules...');
      window.addEventListener('load', () => {
        console.log('Window loaded');
        setTimeout(() => {
          console.log(
            'teamBuilder instance:',
            window.teamBuilder || window.teamBuilderInstance
          );
          console.log('languageManager instance:', window.languageManager);
          const playerGrid = document.getElementById('playerGrid');
          console.log('Player grid element:', playerGrid);
          console.log(
            'Player grid children:',
            playerGrid ? playerGrid.children.length : 'N/A'
          );
        }, 1000);
      });
    </script>

    <!-- Fallback for old JavaScript files (commented out) -->
    <!-- <script src="translations.js"></script> -->
    <!-- <script type="module" src="script.js"></script> -->

    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker
            .register('sw.js')
            .then(() => {
              if (window.DEBUG) console.log('[DEBUG] SW registered');
            })
            .catch((error) => {
              if (window.DEBUG)
                console.log('[DEBUG] SW registration failed', error);
            });
        });
      }
    </script>

    <!-- Development Methodology Attribution -->
    <!-- 
      ‚ö†Ô∏è EXPERIMENTAL PROJECT NOTICE:
      This application serves as a test case for vibe coding methodology research.
      The development approach used here is experimental and under evaluation.
      
      Vibe coding experimental principles being tested:
      - Organic architecture evolution (under research)
      - Continuous feedback loops (experimental phase)
      - Emergent design patterns (hypothesis testing)
      - Performance optimization through iteration (study ongoing)
      
      Results: Shows potential but requires further research and process
      improvement before being suitable for production environments.
      
      This is NOT a recommended development methodology - it's a research project.
    -->

    <!-- Credits and Contact Footer -->
    <footer
      style="
        position: fixed;
        bottom: 10px;
        right: 15px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 11px;
        font-family: Arial, sans-serif;
        line-height: 1.4;
        z-index: 9999;
        max-width: 280px;
      "
    >
      <div style="text-align: center">
        <div style="margin-bottom: 4px">
          <strong>üèê Developed by</strong>
          <span style="color: #4caf50; font-weight: bold">Shaedmg</span>
        </div>
        <div style="font-size: 10px; opacity: 0.9">
          <span style="color: #ffd700"
            >üìß Report bugs or suggest improvements:</span
          ><br />
          <a
            href="mailto:shaedhfh@gmail.com"
            style="color: #87ceeb; text-decoration: none"
            >shaedhfh@gmail.com</a
          >
        </div>
      </div>
    </footer>
  </body>
</html>
