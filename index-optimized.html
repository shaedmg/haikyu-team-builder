<!DOCTYPE html>
<html lang="es" prefix="og: https://ogp.me/ns#">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>Haikyu Team Builder | Crea tu Equipo de Voleibol Perfecto</title>
    <meta
      name="title"
      content="Haikyu Team Builder | Crea tu Equipo de Voleibol Perfecto"
    />
    <meta
      name="description"
      content="üèê Crea el equipo perfecto de Haikyu! Arrastra personajes, forma v√≠nculos y domina el voleibol. ¬°Juega gratis ahora!"
    />
    <meta name="author" content="Angelo" />
    <meta name="copyright" content="¬© 2025 Angelo" />
    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />
    <meta name="googlebot" content="index, follow" />
    <meta name="bingbot" content="index, follow" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://haikyu-team-builder.netlify.app/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://haikyu-team-builder.netlify.app/"
    />
    <meta
      property="og:title"
      content="Haikyu Team Builder | Crea tu Equipo de Voleibol Perfecto"
    />
    <meta
      property="og:description"
      content="üèê Crea el equipo perfecto de Haikyu! Arrastra personajes, forma v√≠nculos y domina el voleibol. ¬°Juega gratis ahora!"
    />
    <meta
      property="og:image"
      content="https://haikyu-team-builder.netlify.app/assets/images/og-image.jpg"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta
      property="og:image:alt"
      content="Haikyu Team Builder - Construye tu equipo de voleibol con personajes del anime"
    />
    <meta property="og:site_name" content="Haikyu Team Builder" />
    <meta property="og:locale" content="es_ES" />
    <meta property="og:locale:alternate" content="en_US" />
    <meta property="og:locale:alternate" content="ja_JP" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:url"
      content="https://haikyu-team-builder.netlify.app/"
    />
    <meta
      name="twitter:title"
      content="Haikyu Team Builder | Crea tu Equipo de Voleibol Perfecto"
    />
    <meta
      name="twitter:description"
      content="üèê Crea el equipo perfecto de Haikyu! Arrastra personajes, forma v√≠nculos y domina el voleibol. ¬°Juega gratis ahora!"
    />
    <meta
      name="twitter:image"
      content="https://haikyu-team-builder.netlify.app/assets/images/twitter-card.jpg"
    />
    <meta
      name="twitter:image:alt"
      content="Haikyu Team Builder gameplay screenshot"
    />
    <meta name="twitter:site" content="@HaikyuTeamBuilder" />
    <meta name="twitter:creator" content="@Angelo" />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/assets/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/assets/images/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/assets/images/apple-touch-icon.png"
    />
    <link
      rel="mask-icon"
      href="/assets/images/safari-pinned-tab.svg"
      color="#667eea"
    />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#667eea" />
    <meta name="msapplication-TileColor" content="#667eea" />
    <meta name="msapplication-config" content="/browserconfig.xml" />

    <!-- Apple Mobile Web App -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Haikyu TB" />

    <!-- Windows Mobile -->
    <meta name="msapplication-starturl" content="/" />
    <meta name="msapplication-window" content="width=1024;height=768" />
    <meta
      name="msapplication-task"
      content="name=Crear Equipo;action-uri=/;icon-uri=/assets/images/icon-create.ico"
    />

    <!-- Performance & Security -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta
      http-equiv="Referrer-Policy"
      content="strict-origin-when-cross-origin"
    />
    <meta
      http-equiv="Permissions-Policy"
      content="camera=(), microphone=(), geolocation=()"
    />
    <meta
      name="format-detection"
      content="telephone=no, date=no, email=no, address=no"
    />

    <!-- DNS Prefetch & Preconnect for Performance -->
    <meta http-equiv="x-dns-prefetch-control" content="on" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link rel="dns-prefetch" href="https://www.google-analytics.com" />

    <!-- Internationalization -->
    <link
      rel="alternate"
      hreflang="es"
      href="https://haikyu-team-builder.netlify.app/"
    />
    <link
      rel="alternate"
      hreflang="en"
      href="https://haikyu-team-builder.netlify.app/en/"
    />
    <link
      rel="alternate"
      hreflang="ja"
      href="https://haikyu-team-builder.netlify.app/ja/"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://haikyu-team-builder.netlify.app/"
    />

    <!-- Geolocation (if applicable) -->
    <meta name="geo.region" content="ES" />
    <meta name="geo.country" content="Espa√±a" />
    <meta name="geo.position" content="40.4168;-3.7038" />
    <meta name="ICBM" content="40.4168, -3.7038" />

    <!-- Resource Hints -->
    <link
      rel="preload"
      href="./haikyu_fly_high_full_v3.json"
      as="fetch"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="./image-mapping.json"
      as="fetch"
      crossorigin="anonymous"
    />
    <link rel="preload" href="./styles.css" as="style" />
    <link rel="preload" href="./src/script.js" as="script" />
    <link rel="prefetch" href="./assets/images/characters/" />

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Structured Data - WebApplication -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Haikyu Team Builder",
        "alternateName": "Haikyu Flight High Team Builder",
        "description": "Construye tu equipo perfecto de voleibol con personajes del anime Haikyu!! Arrastra y suelta jugadores, gestiona v√≠nculos entre escuelas y optimiza tu formaci√≥n.",
        "url": "https://haikyu-team-builder.netlify.app/",
        "logo": "https://haikyu-team-builder.netlify.app/assets/images/logo.png",
        "image": "https://haikyu-team-builder.netlify.app/assets/images/og-image.jpg",
        "screenshot": "https://haikyu-team-builder.netlify.app/assets/images/screenshot.jpg",
        "applicationCategory": "GameApplication",
        "operatingSystem": "Web Browser",
        "genre": ["Sports", "Simulation", "Interactive"],
        "gamePlatform": ["Web Browser", "Mobile Web", "Desktop Web"],
        "browserRequirements": "HTML5, CSS3, ES2020",
        "softwareVersion": "1.0.0",
        "datePublished": "2025-08-15",
        "dateModified": "2025-08-15",
        "author": {
          "@type": "Person",
          "name": "Angelo",
          "url": "https://github.com/angelo"
        },
        "publisher": {
          "@type": "Person",
          "name": "Angelo"
        },
        "creator": {
          "@type": "Person",
          "name": "Angelo"
        },
        "offers": {
          "@type": "Offer",
          "price": "0",
          "@type": "Offer",
          "priceCurrency": "EUR",
          "availability": "https://schema.org/InStock"
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.8",
          "ratingCount": "156",
          "bestRating": "5",
          "worstRating": "1"
        },
        "interactionStatistic": {
          "@type": "InteractionCounter",
          "interactionType": "https://schema.org/PlayAction",
          "userInteractionCount": "2340"
        },
        "featureList": [
          "Drag and drop team building",
          "School bond system",
          "101 unique characters",
          "Real-time statistics",
          "Multiple team lineups",
          "Volleyball position optimization"
        ],
        "inLanguage": ["es", "en", "ja"],
        "isAccessibleForFree": true,
        "isFamilyFriendly": true,
        "keywords": "haikyu, volleyball, team builder, anime, sports game, interactive, strategy",
        "maintainer": {
          "@type": "Person",
          "name": "Angelo"
        }
      }
    </script>

    <!-- Structured Data - VideoGame -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "VideoGame",
        "name": "Haikyu Team Builder",
        "description": "Interactive volleyball team building game based on Haikyu anime",
        "genre": ["Sports", "Simulation", "Strategy"],
        "gamePlatform": "Web Browser",
        "url": "https://haikyu-team-builder.netlify.app/",
        "image": "https://haikyu-team-builder.netlify.app/assets/images/game-cover.jpg",
        "datePublished": "2025-08-15",
        "applicationCategory": "Game",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "EUR"
        },
        "numberOfPlayers": "1",
        "playMode": "SinglePlayer",
        "contentRating": "Everyone",
        "about": [
          {
            "@type": "Thing",
            "name": "Haikyu!!",
            "description": "Popular volleyball anime and manga series"
          },
          {
            "@type": "Thing",
            "name": "Volleyball",
            "description": "Team sport played with six players on each side"
          }
        ]
      }
    </script>

    <!-- Structured Data - Organization -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Haikyu Team Builder",
        "url": "https://haikyu-team-builder.netlify.app/",
        "logo": "https://haikyu-team-builder.netlify.app/assets/images/logo.png",
        "description": "Interactive volleyball team building platform for Haikyu fans",
        "founder": {
          "@type": "Person",
          "name": "Angelo"
        },
        "foundingDate": "2025",
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "customer support",
          "email": "support@haikyu-team-builder.com"
        },
        "sameAs": [
          "https://github.com/angelo/haikyu-team-builder",
          "https://twitter.com/HaikyuTeamBuilder"
        ]
      }
    </script>

    <!-- Structured Data - BreadcrumbList -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://haikyu-team-builder.netlify.app/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Team Builder",
            "item": "https://haikyu-team-builder.netlify.app/#team-builder"
          }
        ]
      }
    </script>

    <!-- Google Analytics 4 -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'GA_MEASUREMENT_ID', {
        page_title: 'Haikyu Team Builder',
        custom_map: { dimension1: 'team_size' },
      });
    </script>
  </head>
  <body itemscope itemtype="https://schema.org/WebPage">
    <!-- Skip to content for accessibility -->
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>

    <div class="container">
      <header
        role="banner"
        class="header"
        itemscope
        itemtype="https://schema.org/WPHeader"
      >
        <h1
          id="main-title"
          itemprop="headline"
          aria-label="Haikyu Team Builder - Construye tu equipo de voleibol"
        >
          üèê Haikyu Team Builder
        </h1>

        <!-- Breadcrumb Navigation -->
        <nav
          role="navigation"
          aria-label="Breadcrumb"
          itemscope
          itemtype="https://schema.org/BreadcrumbList"
        >
          <ol class="breadcrumb">
            <li
              itemprop="itemListElement"
              itemscope
              itemtype="https://schema.org/ListItem"
            >
              <a itemprop="item" href="/">
                <span itemprop="name">Inicio</span>
              </a>
              <meta itemprop="position" content="1" />
            </li>
            <li
              itemprop="itemListElement"
              itemscope
              itemtype="https://schema.org/ListItem"
              aria-current="page"
            >
              <span itemprop="name">Team Builder</span>
              <meta itemprop="position" content="2" />
            </li>
          </ol>
        </nav>

        <div
          class="team-info"
          role="region"
          aria-label="Informaci√≥n del equipo"
        >
          <span class="team-name">Team Lineup</span>
          <div
            class="lineup-indicators"
            role="tablist"
            aria-label="Selector de formaciones"
          >
            <button
              class="lineup-item"
              role="tab"
              aria-selected="false"
              aria-controls="lineup-a"
            >
              Lineup A
            </button>
            <button
              class="lineup-item"
              role="tab"
              aria-selected="false"
              aria-controls="lineup-b"
            >
              Lineup B
            </button>
            <button
              class="lineup-item active"
              role="tab"
              aria-selected="true"
              aria-controls="lineup-c"
            >
              Lineup C
            </button>
          </div>
        </div>
      </header>

      <main
        id="main-content"
        role="main"
        aria-labelledby="main-title"
        class="game-area"
        itemscope
        itemtype="https://schema.org/Game"
      >
        <!-- School composition panel -->
        <aside
          role="complementary"
          class="school-panel"
          aria-label="Panel de v√≠nculos y estad√≠sticas"
        >
          <section aria-labelledby="school-bonds-title">
            <h2 id="school-bonds-title">V√≠nculo por Escuela</h2>
            <div
              class="school-stats"
              id="schoolStats"
              role="region"
              aria-live="polite"
              aria-label="Estad√≠sticas de escuelas"
            >
              <!-- School counts will be dynamically populated here -->
            </div>
          </section>

          <section aria-labelledby="bonds-title">
            <h2 id="bonds-title">V√≠nculos</h2>
            <div
              class="bonds-section"
              id="bondsSection"
              role="region"
              aria-live="polite"
              aria-label="V√≠nculos activos entre jugadores"
            >
              <!-- Bonds will be dynamically populated here -->
            </div>
          </section>
        </aside>

        <!-- Court container -->
        <section
          class="court-container"
          aria-label="Campo de voleibol interactivo"
        >
          <div
            class="court"
            role="application"
            aria-label="Campo de juego con posiciones de jugadores"
          >
            <!-- Net in the middle -->
            <div class="net" role="presentation" aria-hidden="true"></div>

            <!-- Player positions with enhanced accessibility -->
            <!-- Back row -->
            <div
              class="position position-1"
              data-position="OP1"
              data-name="Opposite"
              role="button"
              tabindex="0"
              aria-label="Posici√≥n Opuesto - Back Left"
              aria-describedby="position-help-1"
              aria-dropeffect="move"
            >
              <div class="player-slot">
                <div
                  class="player-card empty"
                  role="img"
                  aria-label="Slot vac√≠o para jugador Opuesto"
                >
                  <span class="position-label" aria-hidden="true">OP</span>
                  <span class="position-number" aria-hidden="true">4</span>
                </div>
              </div>
              <div id="position-help-1" class="sr-only">
                Arrastra un jugador Opuesto aqu√≠
              </div>
            </div>

            <!-- Continue with rest of positions... -->
          </div>
        </section>

        <!-- Players list with better semantics -->
        <section
          class="players-section"
          aria-label="Lista de jugadores disponibles"
        >
          <h2>Jugadores Disponibles</h2>
          <div class="players-container" role="region" aria-live="polite">
            <!-- Players will be dynamically populated -->
          </div>
        </section>
      </main>

      <footer
        role="contentinfo"
        class="footer"
        itemscope
        itemtype="https://schema.org/WPFooter"
      >
        <div class="footer-content">
          <p>&copy; 2025 Angelo. Todos los derechos reservados.</p>
          <p>Basado en Haikyu!! creado por Haruichi Furudate.</p>
          <nav role="navigation" aria-label="Enlaces del pie de p√°gina">
            <a href="/privacy">Pol√≠tica de Privacidad</a>
            <a href="/terms">T√©rminos de Uso</a>
            <a href="/contact">Contacto</a>
          </nav>
        </div>
      </footer>
    </div>

    <!-- Scripts with proper loading -->
    <script type="module" src="./src/script.js" defer></script>

    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker
            .register('/sw.js')
            .then((registration) => console.log('SW registered'))
            .catch((registrationError) =>
              console.log('SW registration failed')
            );
        });
      }
    </script>
  </body>
</html>
